{
  "fileName": "EventDetails.scala",
  "filePath": "recos-injector/server/src/main/scala/com/twitter/recosinjector/util/EventDetails.scala",
  "url": "https://github.com/misbahsy/the-algorithm/recos-injector/server/src/main/scala/com/twitter/recosinjector/util/EventDetails.scala",
  "summary": "The code defines several case classes that store information about different types of user-tweet engagements and tweet details. The `TweetCreateEventDetails` case class stores information about a newly created tweet, including valid entity user IDs (users mentioned or mediatagged in the tweet) and source tweet details for reply, quote, or retweet actions. The `TweetFavoriteEventDetails` case class stores information about a favorite/unfav engagement, and the `UuaEngagementEventDetails` case class stores information about a unified user action engagement. \n\nThe `UserTweetEngagement` case class stores details about a user-tweet engagement, including the user ID, user object, action taken on the tweet, engagement time in milliseconds, tweet ID, and tweet details. The `TweetDetails` case class is a helper class that decomposes a tweet object and provides related details about the tweet, such as author ID, URLs, media URLs, hashtags, mention user IDs, mediatag user IDs, reply source ID, reply user ID, retweet source ID, retweet user ID, quote source ID, quote user ID, quote tweet URL, source tweet ID, source tweet user ID, and boolean information about the tweet (e.g. whether it has a photo, video, URL, hashtag, or is a card). \n\nOverall, these case classes are used to store information about different types of user-tweet engagements and tweet details, which can be used in various parts of the larger project to analyze user behavior and improve recommendations. For example, the `TweetCreateEventDetails` case class can be used to filter out invalid mentions or mediatags in a newly created tweet, while the `TweetDetails` case class can be used to extract relevant information about a tweet for recommendation purposes. \n\nExample usage of `TweetDetails`:\n```\nval tweet: Tweet = ...\nval tweetDetails: TweetDetails = TweetDetails(tweet)\nval authorId: Option[Long] = tweetDetails.authorId\nval urls: Option[Seq[String]] = tweetDetails.urls\nval mediaUrls: Option[Seq[String]] = tweetDetails.mediaUrls\nval hashtags: Option[Seq[String]] = tweetDetails.hashtags\nval mentionUserIds: Option[Seq[Long]] = tweetDetails.mentionUserIds\nval mediatagUserIds: Option[Seq[Long]] = tweetDetails.mediatagUserIds\nval replySourceId: Option[Long] = tweetDetails.replySourceId\nval replyUserId: Option[Long] = tweetDetails.replyUserId\nval retweetSourceId: Option[Long] = tweetDetails.retweetSourceId\nval retweetUserId: Option[Long] = tweetDetails.retweetUserId\nval quoteSourceId: Option[Long] = tweetDetails.quoteSourceId\nval quoteUserId: Option[Long] = tweetDetails.quoteUserId\nval quoteTweetUrl: Option[String] = tweetDetails.quoteTweetUrl\nval sourceTweetId: Option[Long] = tweetDetails.sourceTweetId\nval sourceTweetUserId: Option[Long] = tweetDetails.sourceTweetUserId\nval hasPhoto: Boolean = tweetDetails.hasPhoto\nval hasVideo: Boolean = tweetDetails.hasVideo\nval hasQuoteTweetUrl: Boolean = tweetDetails.hasQuoteTweetUrl\nval hasUrl: Boolean = tweetDetails.hasUrl\nval hasHashtag: Boolean = tweetDetails.hasHashtag\nval isCard: Boolean = tweetDetails.isCard\nval cardInfo: Long = tweetDetails.cardInfo\nval isNullCastTweet: Boolean = tweetDetails.isNullCastTweet\n```",
  "questions": "1. What is the purpose of the `TweetCreateEventDetails` class and its properties?\n- The `TweetCreateEventDetails` class is used to store information about a newly created tweet, including valid entity user IDs, and source tweet details for reply, quote, or RT. The `validMentionUserIds` and `validMediatagUserIds` properties are used to determine if a mention or mediatag is valid based on whether the mentioned or mediatagged user follows the source user.\n\n2. What is the purpose of the `TweetDetails` class and its properties?\n- The `TweetDetails` class is a helper class that decomposes a tweet object and provides related details about the tweet, such as author ID, URLs, media URLs, hashtags, mention user IDs, mediatag user IDs, reply source ID, reply user ID, retweet source ID, retweet user ID, quote source ID, quote user ID, quote tweet URL, and boolean information about whether the tweet has a photo, video, quote tweet URL, URL, hashtag, or card.\n\n3. What is the purpose of the `bool2Long` method in the `TweetDetails` class?\n- The `bool2Long` method is used to convert a boolean value to a long value, where true is represented as 1L and false is represented as 0L. This is used in the `cardInfo` property to create a hashed long that contains card type information of the tweet."
}